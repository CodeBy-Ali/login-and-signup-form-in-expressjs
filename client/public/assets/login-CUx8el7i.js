import"./main-DHptuWbR.js";import{h as l,t as d,i as c,d as r,a as m,s as u}from"./validate-CPr8sj_R.js";const p=async o=>{try{const e=await fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(!e.ok){const t=await e.json();console.log(t),u(t.error)}e.redirected&&(window.location.href=e.url)}catch(e){console.log(e)}},f=o=>{o.preventDefault();const e=document.querySelector("[data-loginForm]"),[t,n]=e,a=t.value,i=n.value;let s=!0;(!a||!c(a))&&(r(t.parentElement),s=!1),(!i||!m(i))&&(r(n.parentElement),s=!1),s&&p({email:a,password:i})},y=()=>{const o=document.querySelector("[data-login]"),e=document.querySelector("[data-eyeIcon]");document.querySelectorAll("form * input").forEach(n=>n.addEventListener("focus",a=>l(a.target.parentElement))),e.addEventListener("click",d),o.addEventListener("click",f)};document.addEventListener("DOMContentLoaded",y);
